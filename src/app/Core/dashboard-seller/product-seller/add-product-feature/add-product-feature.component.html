<p-toast position="center"></p-toast>

<div class="pnl-content p-3">
  <div class="box text-right" dir="rtl">

    <div class="p-fluid p-formgrid p-grid">
      <div class="p-field p-col">
        <label for="selectedFeature">ویژگی</label>
        <p-dropdown [options]="features" appendTo="body" id="selectedFeature"
                    [(ngModel)]="selectedFeature"
                    optionLabel="titleFarsi"
                    placeholder="-- انتخاب کنید --"
                    (onChange)="getFeatureValues($event)"></p-dropdown>
      </div>
      <div class="p-field p-col">
        <label for="selectedValues">مقدار</label>
        <p-listbox [options]="values" [(ngModel)]="selectedValues" id="selectedValues"
                   [showToggleAll]="false"
                   [metaKeySelection]="false" [checkbox]="true" [filter]="true"
                   [multiple]="true" optionLabel="value"
                   (onClick)="addSelectedValues($event)"
                   [listStyle]="{'max-height':'250px'}" [style]="{'width':'15rem'}">
          <ng-template let-value pTemplate="item">
            <div class="value-item">
              <div>{{value.value.value}}</div>
            </div>
          </ng-template>
        </p-listbox>
      </div>
    </div>

    <p class="pt-3">لیست انتخابی شما</p>
    <p-table [value]="showSelectedFeatures">
      <ng-template pTemplate="header">
        <tr>
          <th>ویژگی</th>
          <th>مقدار</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td>{{product.title}}</td>
          <td>{{product.value}}</td>
        </tr>
      </ng-template>
    </p-table>

    <div class="p-fluid p-formgrid p-grid pt-3">
      <div class="p-field p-col">
        <div class="float-left">
          <button pButton label="ثبت" class="ui-button-success" (click)="submitForm()"
                  icon="pi pi-check" iconPos="left" [disabled]="selectedValues.length === 0"></button>
        </div>
      </div>
    </div>

  </div>
</div>
